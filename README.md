# Email authentication plugin for Haraka

This plugin validates SPF, DKIM, DMARC, ARC and BIMI for incoming emails.

-   Adds `Received-SPF` header with SPF verification info
-   Provides data for `Authentication-Results` header (generated by Haraka)
-   Adds `BIMI-Location` header if needed
-   Adds validation info to the `transaction.results` object
-   Adds `transaction.notes.mailauth` object with structured results for `spf`, `dkim`, `arc`, `dmarc`, `bimi`

## Install

```sh
cd /path/to/local/haraka
npm install haraka-plugin-mailauth
echo "mailauth" >> config/plugins
service haraka restart
```

### Configuration

If you need to specify any settings, copy the default config file to the plugin configuration folder.

```sh
cp node_modules/haraka-plugin-mailauth/config/mailauth.yaml config/mailauth.yaml
$EDITOR config/mailauth.yaml
```

## License

**MIT**
